!function t(e,r,n){function i(s,c){if(!r[s]){if(!e[s]){var u="function"==typeof require&&require;if(!c&&u)return u(s,!0);if(o)return o(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var l=r[s]={exports:{}};e[s][0].call(l.exports,function(t){var r=e[s][1][t];return i(r?r:t)},l,l.exports,t,e,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var i=t("./components/wv-map.vue"),o=n(i),s=t("./components/wv-highlight.vue"),c=n(s),u=t("./store"),a=n(u),l=document.querySelector.bind(document);window.addEventListener("DOMContentLoaded",function(){new Vue({el:l("main"),store:a.default,components:{"wv-map":o.default,"wv-highlight":c.default},data:function(){return{active:{}}},mounted:function(){console.log("fetching articles"),this.$store.dispatch("fetchArticles")},methods:{highlight:function(t){}}})})},{"./components/wv-highlight.vue":2,"./components/wv-map.vue":3,"./store":4}],2:[function(t,e,r){!function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"__esModule",{value:!0});var n=t("../store"),i=e(n),o=7,s=20;r.default={name:"wv-highlight",created:function(){var t=this;setInterval(function(){t.current=t.current+1<t.articles.length?t.current+1:0},1e3*s)},data:function(){return{articles:i.default.getters.articles,current:0}},computed:{chosen:function(){var t=this.current+o;if(t<this.articles.length)return this.articles.slice(this.current,t);var e=o-(this.articles.length-this.current),r=this.articles.slice(this.current).concat(this.articles.slice(0,e));return r}},methods:{display_perf:function(t){return["(",t>=0?"+":"-",Math.round(1e3*t)/10,"%)"].join("")}}}}(),e.exports.__esModule&&(e.exports=e.exports.default);var n="function"==typeof e.exports?e.exports.options:e.exports;n.render=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{attrs:{id:"highlight"}},[r("transition-group",{attrs:{name:"articles",tag:"ul"}},t._l(t.chosen,function(e){return r("li",{key:e,staticClass:"article"},[r("h3",{staticClass:"country"},[t._v(t._s(e.country.name)+" "),r("span",{staticClass:"perf"},[t._v(t._s(t.display_perf(e.country.performance)))])]),t._v(" "),r("h2",{staticClass:"headline"},[r("a",{attrs:{href:e.url}},[t._v(t._s(e.title))])]),t._v(" "),r("h4",{staticClass:"source"},[t._v(t._s(e.source.name))])])}))],1)},n.staticRenderFns=[]},{"../store":4}],3:[function(t,e,r){!function(){"use strict";function t(t){return{fillColor:e(t.properties.diff),weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7}}function e(t){return t>100?"#800026":t>50?"#BD0026":t>30?"#E31A1C":t>20?"#FC4E2A":t>10?"#FD8D3C":t>0?"#FEB24C":t<0?"#FED976":"#FFEDA0"}Object.defineProperty(r,"__esModule",{value:!0}),r.default={name:"wv-map",mounted:function(){var e=this,r=L.map("map-loc",{zoomControl:!1}).fitBounds([[-70,80],[80,-60]]),n="pk.eyJ1IjoibHVrZXMiLCJhIjoiY2l5dTNsMGgxMDA0MDMzbGtxNmRoY3Z1cSJ9.cue1Rm47SIxUHmEEC3HVmg";L.tileLayer("https://api.mapbox.com/styles/v1/lukes/ciyu3sn2s001m2rpd7lciprs5/tiles/256/{z}/{x}/{y}?access_token="+n,{id:"mapbox.light"}).addTo(r),fetch("data/countries.json").then(function(t){return t.json()}).then(function(n){var i=L.geoJson(n,{style:t,onEachFeature:function(t,n){n.on({mouseover:function(t){t.target.setStyle({weight:3,color:"#666",dashArray:"",fillOpacity:.7}),t.target.bringToFront()},mouseout:function(t){i.resetStyle(t.target)},click:function(t){r.fitBounds(t.target.getBounds()),e.$emit("select",t.target.feature.properties)}})}}).addTo(r)})}}}(),e.exports.__esModule&&(e.exports=e.exports.default);var n="function"==typeof e.exports?e.exports.options:e.exports;n.render=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"map-loc"}})},n.staticRenderFns=[]},{}],4:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Vue.use(Vuex);var n={articles:[]},i={addArticle:function(t,e){t.articles.push(e)},clearArticles:function(t){t.articles.splice(0,t.articles.length)}},o={fetchArticles:function(t){var e=t.commit;return new Promise(function(t,r){e("clearArticles"),fetch("data/articles/articles.json").then(function(t){return t.json()}).then(function(r){r.forEach(function(t){return e("addArticle",t)}),t()}).catch(function(t){return r(t)})})}},s={articles:function(t){return t.articles}};r.default=new Vuex.Store({state:n,getters:s,actions:o,mutations:i})},{}]},{},[1]);
